(()=>{var $=(y,u,f)=>new Promise((a,m)=>{var g=c=>{try{d(f.next(c))}catch(p){m(p)}},S=c=>{try{d(f.throw(c))}catch(p){m(p)}},d=c=>c.done?a(c.value):Promise.resolve(c.value).then(g,S);d((f=f.apply(y,u)).next())});function C(y){let u="[@scope]",f=new WeakSet;try{if(typeof CSSScopeRule!="undefined"){console.log(`${u} Native support detected. Hibernating.`);return}}catch(n){}console.log(`${u} Activating polyfill (Live Mode)...`);function a(n){return $(this,null,function*(){if(f.has(n)||(f.add(n),n.hasAttribute("data-polyfill-generated")))return;let s="",o="inline-style";try{if(n.tagName==="LINK"){let e=n;if(e.rel!=="stylesheet"||!e.href)return;o=e.href;let r=yield fetch(o);if(!r.ok)return;s=yield r.text()}else if(n.tagName==="STYLE")s=n.textContent;else return;if(!s.includes("@scope"))return;let t=S(s);t&&(N(t,o),console.log(`${u} Processed ${o}`))}catch(t){console.warn(`${u} Failed to process ${o}`,t)}})}function m(){y?y.onMutation(n=>{var s;for(let o of n.added)if(o.nodeType===1){let t=o;g(t)?a(t):(s=t.querySelectorAll)==null||s.call(t,'link[rel="stylesheet"], style').forEach(a)}}):new MutationObserver(s=>{for(let o of s)o.type==="childList"&&o.addedNodes.forEach(t=>{var e;if(t.nodeType===1){let r=t;g(r)?a(r):(e=r.querySelectorAll)==null||e.call(r,'link[rel="stylesheet"], style').forEach(a)}})}).observe(document.documentElement,{childList:!0,subtree:!0})}function g(n){return n.tagName==="LINK"&&n.rel==="stylesheet"||n.tagName==="STYLE"}function S(n){let s=n.replace(/\/\*[\s\S]*?\*\//g,""),o=/@scope\s*\(([^)]+)\)\s*{/g,t,e=[];for(;(t=o.exec(s))!==null;){let r=t[1].trim(),l=t.index+t[0].length,i=k(s,l-1);if(i!==-1){let h=s.substring(l,i),b=d(h,r);e.push(b)}}return e.length>0?e.join(`
`):null}function d(n,s){let o="",t=0;for(;t<n.length;){let e=n.indexOf("{",t);if(e===-1)break;let r=n.substring(t,e).trim(),l=k(n,e);if(l===-1)break;let i=n.substring(e+1,l);if(r.startsWith("@"))if(/^@(keyframes|font-face)/i.test(r))o+=`${r} {${i}}
`;else{let b=d(i,s);o+=`${r} {
${b}
}
`}else{let h=c(r,s);h&&(o+=`${h} {${i}}
`)}t=l+1}return o}function c(n,s){return n.trim()?p(n).map(t=>{let e=t.trim();return e.includes(":scope")?e.replace(/:\s*scope/g,s):e.includes("&")?e.replace(/&/g,s):`${s} ${e}`}).join(", "):""}function p(n){let s=[],o="",t=0,e=!1,r="";for(let l=0;l<n.length;l++){let i=n[l];(i==='"'||i==="'")&&n[l-1]!=="\\"&&(e&&i===r?e=!1:e||(e=!0,r=i)),e||(i==="("?t++:i===")"&&t--),i===","&&t===0&&!e?(s.push(o),o=""):o+=i}return o&&s.push(o),s}function k(n,s){let o=1;for(let t=s+1;t<n.length;t++){let e=n[t];if(e==="{"?o++:e==="}"&&o--,o===0)return t}return-1}function N(n,s){let o=new Blob([n],{type:"text/css"}),t=URL.createObjectURL(o),e=document.createElement("link");e.rel="stylesheet",e.href=t,e.setAttribute("data-polyfill-generated","true"),e.setAttribute("data-source",s),document.head.appendChild(e)}document.querySelectorAll('link[rel="stylesheet"], style').forEach(a),m()}typeof window!="undefined"&&(window.CSSScopePolyfill=C);var w=C;typeof window!="undefined"&&(window.CSSScopePolyfill=w);typeof document!="undefined"&&document.currentScript&&!document.currentScript.hasAttribute("data-manual")&&w();})();
